<main class="main">
  <div class="px-5 py-5" style="display: flex; background-color: #f5f7fa;">
    <div echarts *ngIf="isBrowser" [options]="chartOptions" [autoResize]="true" (chartClick)="onChartClick($event)" style="width: 60%; height: 500px;" ></div>
    <div style="width: 45%;">
      <p class="fw-bold fs-4">O que Ã© o IVSA (Indicador de Vulnerabilidade Socioambiental)?</p>
      <p>
        Ã‰ uma ferramenta que mostra quais lugares maior risco de sofrer com problemas como enchentes, deslizamentos, falta d'Ã¡gua ou crises sociais. Funciona como um sinal de alerta, apontando onde os impactos desses problemas podem ser mais graves. Com essas informaÃ§Ãµes, a populaÃ§Ã£o e os Ã³rgÃ£os pÃºblicos podem se preparar melhor e agir com antecedÃªncia para evitar tragÃ©dias e proteger a comunidade.
        <span class="fw-bold">Quando mais prÃ³ximo de 1, maior o risco.</span>
      </p>
      <p class="fw-bold">Quer saber como estÃ¡ a sua regiÃ£o?</p>
      <p>Clique em um dos municÃ­pios para ver os detalhes dos indicadores.</p>

      <!-- ExibiÃ§Ã£o dos detalhes do municÃ­pio -->
      <div *ngIf="detailMunicipio && detailMunicipio.length">
        <p class="fs-5">Indicadores do MunicÃ­pio <span class="fw-bold">{{ detailMunicipio[0].municipio }}</span>:</p>
        <div *ngFor="let detail of detailMunicipio">
          <p>
            <strong>{{ detail.criterio }}:</strong> 
            {{
              detail.criterio === 'Suportabilidade'
                ? (100 - (detail.valor * 100))
                : (detail.valor * 100)
            | number:'1.2-2' }}%
          </p>
        </div>
      </div>
    </div>
  </div>

  <div class="px-5 pb-5" style="background-color: #100C2A; color: #f5f7fa;">
    <!-- Nav tabs -->
    <ul class="nav nav-tabs nav-fill" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="tab1-tab" data-bs-toggle="tab" data-bs-target="#tab1" type="button" role="tab" aria-controls="tab1" aria-selected="true">
          Criticidade
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab2-tab" data-bs-toggle="tab" data-bs-target="#tab2" type="button" role="tab" aria-controls="tab2" aria-selected="false">
          Suportabilidade
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab3-tab" data-bs-toggle="tab" data-bs-target="#tab3" type="button" role="tab" aria-controls="tab3" aria-selected="false">
          HistÃ³rico de Incidentes
        </button>
      </li>
      <!-- Adicione mais abas conforme necessÃ¡rio -->
    </ul>
    <!-- Tab panes -->
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="tab1" role="tabpanel" aria-labelledby="tab1-tab">
        <div class="row pt-2">
          <div class="col-5">
            <p class="fw-bold fs-4">ğŸ’¡O que seria Criticidade no IVSA?</p>
            <p>
              A criticidade Ã© um dos indicadores do IVSA que demostra o <strong>nÃ­vel de risco que uma populaÃ§Ã£o tem diante de desastres naturais</strong>. Mas esse risco nÃ£o Ã© sÃ³ sobre o que acontece na natureza â€” ele tambÃ©m tem a ver com as condiÃ§Ãµes de vida das pessoas. Ela leva em conta fatores como:
            </p>
            <ul>
              <li>ğŸ’¸ Renda baixa, que pode dificultar a recuperaÃ§Ã£o apÃ³s um desastre;</li>
              <li>ğŸšï¸ Quantidade de pessoas na moradia, o que dificulta a saÃ­da em momentos de desastres;</li>
              <li>ğŸ‘µ FamÃ­lias com idosos, que podem ter dificuldade de locomoÃ§Ã£o;</li>
              <li>ğŸ‘¶ FamÃ­lias com crianÃ§as pequenas, que precisam de mais cuidado e atenÃ§Ã£o;</li>
            </ul>
            <div>ğŸ‘‰ Neste grÃ¡fico, vocÃª pode ver como cada municÃ­pio se sai nesse indicador. <strong>Quanto maior a barra, maior a criticidade</strong> â€” ou seja, maior o risco social e ambiental para aquela populaÃ§Ã£o.</div>
          </div>
          <div class="col-7">
            <div echarts *ngIf="isBrowser" [options]="lineCriticidadeOptions" [autoResize]="true" style="height: 600px;" [theme]="'dark'"></div>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="tab2" role="tabpanel" aria-labelledby="tab2-tab">
        <div class="row pt-2">
          <div class="col-5">
            <p class="fw-bold fs-4">ğŸ’¡O que seria Suportabilidade no IVSA?</p>
            <p>A Suportabilidade Ã© um indicador que analisa se a <strong>infraestrutura de uma cidade consegue atender bem Ã  sua populaÃ§Ã£o</strong>, demostrando o quanto o lugar onde a pessoa vive oferece suporte bÃ¡sico para o bem-estar e seguranÃ§a. Quando a cidade cresce rÃ¡pido demais ou nÃ£o tem estrutura adequada, a qualidade de vida cai e os riscos aumentam. Ele leva em conta fatores como:</p>
            <ul>
              <li>ğŸ—‘ï¸ Destino do lixo: muitas famÃ­lias ainda jogam o lixo em locais imprÃ³prios (como terrenos baldios ou Ã¡reas pÃºblicas), ou queimam e enterram na prÃ³pria casa â€” o que pode gerar doenÃ§as e contaminaÃ§Ã£o ambiental;</li>
              <li>ğŸ’© Esgotamento irregular: quando a casa nÃ£o estÃ¡ ligada Ã  rede de esgoto e usa fossas precÃ¡rias ou joga dejetos diretamente em rios, valas ou lagos, isso representa um risco enorme para a saÃºde pÃºblica;</li>
              <li>ğŸš± Falta de Ã¡gua encanada: morar sem ligaÃ§Ã£o Ã  rede geral de Ã¡gua representa um risco a saÃºde e Ã© uma das formas mais claras de ausÃªncia ao acesso bÃ¡sico na regiÃ£o;</li>
              <li>ğŸ¥ Poucos serviÃ§os de saÃºde para muita gente: se a populaÃ§Ã£o Ã© grande mas os postos de saÃºde sÃ£o poucos, o atendimento se torna insuficiente, principalmente em emergÃªncias;</li>
              <li>ğŸŒ Falta de internet: hoje em dia, a internet Ã© essencial para acessar serviÃ§os, educaÃ§Ã£o, alerta de emergÃªncias e atÃ© buscar ajuda. A ausÃªncia dela afeta diretamente a capacidade de resposta da populaÃ§Ã£o.</li>
            </ul>
            <div>ğŸ‘‰ Neste grÃ¡fico, vocÃª vai ver como os municÃ­pios se comportam nesse indicador de Suportabilidade. <strong>Quanto menor a barra, maior a vulnerabilidade da infraestrutura frente Ã  demanda populacional</strong> â€” ou seja, mais urgente Ã© a necessidade de melhorias nesses serviÃ§os.</div>
          </div>
          <div class="col-7">
            <div echarts *ngIf="isBrowser" [options]="lineSuportabilidadeOptions" [autoResize]="true" style="height: 600px;" [theme]="'dark'"></div>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="tab3" role="tabpanel" aria-labelledby="tab3-tab">
        <div class="row pt-2">
          <div class="col-5">
            <p class="fw-bold fs-4">ğŸ’¡ O que seria HistÃ³rico de Incidentes no IVSA?</p>
            <p>O HistÃ³rico de Incidente Ã© um indicador que mostra <strong>como desastres ambientais jÃ¡ afetaram os municÃ­pios no passado</strong> â€” e como esses eventos ajudam a entender os riscos atuais e futuros da regiÃ£o.</p>
            <p>A ideia Ã© simples: se um lugar jÃ¡ sofreu muito com enchentes, deslizamentos ou outros desastres, a chance de isso acontecer novamente Ã© grande, principalmente se a infraestrutura e o planejamento urbano nÃ£o forem melhorados. Ele leva em conta fatores como:</p>
          
            <ul>
              <li>ğŸŒŠ Quantidade de desastres hidrolÃ³gicos registrados: quantas vezes jÃ¡ ocorreram enchentes, alagamentos ou deslizamentos no municÃ­pio;</li>
              <li>ğŸ‘¥ PopulaÃ§Ã£o afetada: quantas pessoas foram impactadas direta ou indiretamente, como perdas de bens, desalojamento, doenÃ§as ou atÃ© vÃ­timas fatais;</li>
              <li>ğŸšï¸ Casas afetadas: nÃºmero de moradias danificadas ou destruÃ­das â€” um reflexo direto da exposiÃ§Ã£o das famÃ­lias e da fragilidade urbana;</li>
              <li>ğŸ¥ Unidades de saÃºde atingidas: quando hospitais ou postos de saÃºde sÃ£o afetados, o problema Ã© duplo: alÃ©m do desastre em si, a capacidade de atendimento tambÃ©m Ã© prejudicada.</li>
            </ul>

            <p>ğŸ‘‰ Neste grÃ¡fico, vocÃª pode visualizar quais municÃ­pios tÃªm um histÃ³rico mais crÃ­tico de desastres ambientais. Quanto maior a barra, maior o impacto acumulado â€” o que sinaliza Ã¡reas com alta urgÃªncia para planejamento, prevenÃ§Ã£o e adaptaÃ§Ã£o.</p>
          </div>
          <div class="col-7">
            <div echarts *ngIf="isBrowser" [options]="lineIncidenteOptions" [autoResize]="true" style="height: 600px;" [theme]="'dark'"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

</main>
